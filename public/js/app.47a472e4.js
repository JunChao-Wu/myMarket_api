(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],d=0,h=[];d<o.length;d++)r=o[d],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&h.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(h.length)h.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,o=1;o<n.length;o++){var c=n[o];0!==i[c]&&(a=!1)}a&&(s.splice(e--,1),t=r(r.s=n[0]))}return t}var a={},i={app:0},s=[];function r(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=a,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)r.d(n,a,function(e){return t[e]}.bind(null,a));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var u=0;u<o.length;u++)e(o[u]);var l=c;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"05ab":function(t,e,n){"use strict";n("84e7")},"07ae":function(t,e,n){},2395:function(t,e,n){},"2d82":function(t,e,n){"use strict";n("44b5")},3215:function(t,e,n){},"3fc1":function(t,e,n){},"44b5":function(t,e,n){},4546:function(t,e,n){"use strict";n("d8a2")},5367:function(t,e,n){"use strict";n("f950")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],r=(n("3215"),{mounted:function(){}}),o=r,c=(n("7c55"),n("2877")),u=Object(c["a"])(o,i,s,!1,null,null,null),l=u.exports,d=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home-outside"},[n("Home")],1)},p=[],f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"home"},[n("div",{staticClass:"aside-left"},[n("div",{staticClass:"aside-main"},[n("Aside")],1)]),n("div",{staticClass:"nav-top"},[n("div",{staticClass:"top-main"},[n("span",{staticClass:"menu iconfont icon-daohang2",on:{click:function(e){return e.stopPropagation(),t.showMenu(e)}}}),n("TopBar")],1)]),n("div",{staticClass:"main-container col-main-container-change"},[n("router-view")],1)])},m=[],g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t._m(0),n("div",{staticClass:"tools-list-main"},[n("div",{staticClass:"tools-list-container"},[n("ul",t._l(t.controlList,(function(e){return n("li",{key:e.name},[n("router-link",{attrs:{to:/index/+e.to}},[t._v(t._s(e.name))])],1)})),0)])])])},v=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"logo-main"},[n("div",{staticClass:"logo-container"},[n("h3",{staticClass:"logo"},[t._v("超市管理系统")])])])}],b=n("81f6"),_={data:function(){return{managerControl:b,controlList:""}},methods:{getKey:function(){sessionStorage.setItem("level","senior");var t=sessionStorage.getItem("level"),e=this.managerControl;for(var n in e)n==t&&(this.controlList=e[n])}},beforeMount:function(){this.getKey()}},C=_,y=(n("5367"),Object(c["a"])(C,g,v,!1,null,"72985a36",null)),w=y.exports,x=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},k=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top clearfix"},[n("ul",{staticClass:"top-nav"},[n("li",[n("span",{staticClass:"identity"},[t._v("身份")])]),n("li",[n("span",{staticClass:"user-i iconfont icon-user-c"}),n("div",{staticClass:"user-setting"},[n("ul",{staticClass:"user-setting-main"},[n("span",{staticClass:"xiaosanjiao-i"}),n("li",{staticClass:"user-account"},[n("a",{attrs:{href:"#"}},[t._v("账号资料")])]),n("span",{staticClass:"user-line"}),n("li",{staticClass:"logout"},[n("a",{attrs:{href:"#"}},[t._v("登出")])])])])])])])}],P={},S=P,L=(n("92da"),Object(c["a"])(S,x,k,!1,null,"c937ac00",null)),O=L.exports,N={name:"Home",components:{Aside:w,TopBar:O},data:function(){return{activeWidth:""}},computed:{},watch:{activeWidth:{handler:function(t){document.body.className=t<1198?"aside_gone":""}}},methods:{showMenu:function(){document.body.className="aside_show"},bodyClick:function(){"aside_show"==document.body.className&&(document.body.className="aside_gone")}},mounted:function(){var t=this;this.activeWidth=document.body.clientWidth,window.onresize=function(){return function(){t.activeWidth=document.body.clientWidth}()},document.body.addEventListener("click",this.bodyClick)}},j=N,$=(n("5925"),Object(c["a"])(j,f,m,!1,null,"2a77872c",null)),T=$.exports,E={name:"Index",components:{Home:T}},R=E,D=Object(c["a"])(R,h,p,!1,null,null,null),K=D.exports,I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"List-main"}},[n("div",{staticClass:"tools-bar"},[n("ul",{staticClass:"tools-main"},[n("li",{staticClass:"search-main"},[n("div",{staticClass:"search-info"},[n("span",{staticClass:"search-i iconfont icon-sousuo"}),n("transition",{attrs:{name:"search"}},[n("input",{staticClass:"search-input",attrs:{type:"text",name:"serach-name",id:"search",placeholder:"搜索"}})])],1)]),t._m(0)])]),n("div",{attrs:{id:"list-main"}})])},z=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("li",{staticClass:"btn-main"},[n("div",{staticClass:"add"},[n("button",[t._v("添加")])])])}],W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("table",{staticClass:"table-list-main"},[n("div",{staticClass:"hidden-init-column"},[t._t("default")],2),n("table-thead",{attrs:{store:t.store}}),n("table-tbody",{attrs:{store:t.store}})],1)},A=[],V=(n("7389"),{name:"TableThead",props:{store:{required:!0}},methods:{},render:function(){var t=arguments[0],e=this.store.states.columns;return t("table",{attrs:{width:"100%"}},[t("colgroup",[this._l(e,(function(e){return t("col",{attrs:{width:e.width}})}))]),t("thead",[t("tr",[this._l(e,(function(e){return t("th",{class:"head_style"},[e.label])}))])])])}}),M=(n("a434"),n("13d5"),n("99af"),n("d81d"),n("ac1f"),n("d3b7"),n("159b"),function(t){var e=/^\[object (\w+)\]/,n=e.exec(Object.prototype.toString.call(t));return n[1]}),U=function t(e){var n={};for(var a in e){var i=e[a];"Object"==M(i)?n[a]=t(i):n[a]=i}return n},q=(n("73ed"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"checkbox-container"},[n("label",[n("input",{staticClass:"inner-input",attrs:{type:"checkbox"},domProps:{checked:t.isChecked},on:{change:t.handlerChange,focus:function(e){t.focus=!0},blur:function(e){t.focus=!1}}})])])}),B=[],J=(n("a9e3"),n("f849"),{name:"checkBox",props:{id:Number||String,checkboxStates:{require:!0,type:String,default:"normal"}},data:function(){return{isChecked:!1,focus:!1,seletion:Number}},computed:{},watch:{seletion:{immediate:!0,handler:function(t){t>0&&this.$emit("getCheckboxSetion",t)}},checkboxStates:{immediate:!0,handler:function(t){if("allchecked"==t)this.isChecked=!0;else{if("noChecked"!=t)return;this.isChecked=!1}}},isChecked:{immediate:!1,handler:function(t){t?this.seletion=this.id:(this.seletion=0,this.$emit("deleteSeletion",this.id))}}},methods:{handlerChange:function(t){this.isChecked=t.target.checked}}}),F=J,H=Object(c["a"])(F,q,B,!1,null,null,null),G=H.exports,Z={name:"ListTbody",props:{store:{required:!0}},components:{checkBox:G},methods:{deleteID:function(t,e){var n=0,a=t.length;if(!(a<=0)){for(var i=a-1;i>=0;i--)if(e==t[i]){n=i;break}t.splice(n,1)}},deleteSeletion:function(t){this.deleteID(this.store.states.seletions,t)},getCheckboxSetion:function(t){this.store.states.seletions.push(t)},rowRender:function(t){var e=this,n=this.$createElement,a=this.store.states.columns;return n("tr",{key:t.id,class:"row_style"},[a.reduce((function(n,a){return n.concat(e.cellRender(t,a))}),[])])},cellRender:function(t,e){var n=this.$createElement,a=e.type,i=e.prop,s=t[i];return n("td",{class:"cell_style"},"checkbox"==a?[n("check-box",{attrs:{id:s},on:{getCheckboxSetion:this.getCheckboxSetion,deleteSeletion:this.deleteSeletion}})]:[s])}},render:function(){var t=this,e=arguments[0];return e("table",{attrs:{width:"100%"}},[e("colgroup",[this.store.states.columns.map((function(t){return e("col",{attrs:{width:t.width}})}))]),e("tbody",{class:"row-parent"},[this.store.states.data.reduce((function(e,n){return e.concat(t.rowRender(n))}),[])])])}},Q=function(t){if(!t)throw new Error("Table is required");this.table=t,this.states={columns:[],data:[],seletions:[],checkboxStates:"normal"}};Q.prototype.mutations={handlerRowClick:function(t){this.table.$emit("row-click",t)},handlerRowHoverEvent:function(t){this.table.$emit("row-hover",t)}},Q.prototype.commit=function(t){var e=this.mutations;if(!e[t])throw new Error("not found that ".concat(t));for(var n=arguments.length,a=new Array(n>1?n-1:0),i=1;i<n;i++)a[i-1]=arguments[i];e[t].apply(this,a)};var X=Q,Y={name:"ListTable",components:{TableThead:V,TableTbody:Z},props:{dataSource:{type:Array,required:!0},isClearCheckbox:{type:Boolean,required:!0}},computed:{seletions:function(){return this.store.states.seletions}},watch:{dataSource:{immediate:!0,deep:!0,handler:function(t){this.store.states.data=t}},seletions:{immediate:!1,deep:!0,handler:function(t){t.length<1&&(this.store.states.checkboxStates="normal"),this.$emit("getCheckboxSeletions",t)}},isClearCheckbox:{immediate:!0,handler:function(t){t&&(this.store.states.checkboxStates="noChecked",t=!t)}}},data:function(){var t=new X(this);return{store:t}},methods:{}},tt=Y,et=(n("4546"),Object(c["a"])(tt,W,A,!1,null,"0596776a",null)),nt=et.exports,at=0,it={name:"ListColumn",props:{type:String||"default",label:String||"",prop:String,width:String,sortable:Boolean||!1},data:function(){return{}},methods:{getColumns:function(t){var e,n={};for(e in t)n[e]=t[e];return n}},created:function(){},mounted:function(){var t=this.$parent.store,e=this.getColumns({type:this.type,label:this.label,prop:this.prop,width:this.width,sortable:this.sortable,columnKey:at++});t.states.columns.push(e)},render:function(t){return t("div",this.$slots.default)}},st=(n("58d8"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",{staticClass:"inner-pager-main",on:{click:t.pageClick}},[n("li",{staticClass:"innerPage-btn",class:{current:1===t.innerCurrentPage}},[t._v(t._s(this.pageStart))]),t.showLeft?n("li",{staticClass:"ellipsis-left"},[t._v("...")]):t._e(),t._l(t.pagerList,(function(e){return n("li",{key:e,staticClass:"innerPage-btn",class:{current:t.innerCurrentPage===e}},[t._v(t._s(e))])})),t.showRight?n("li",{staticClass:"ellipsis-right"},[t._v("...")]):t._e(),n("li",{staticClass:"innerPage-btn",class:{current:t.innerCurrentPage===this.pageTotal,show:this.pageTotal<=1}},[t._v(t._s(this.pageTotal))])],2)}),rt=[],ot=(n("90de"),{props:{innerCurrentPage:{type:Number},pageColumnSize:{type:Number},pageTotal:{type:Number}},data:function(){return{pageStart:1,showLeft:!1,showRight:!1}},computed:{pagerList:function(){var t=[],e=this.innerCurrentPage,n=this.pageTotal,a=this.pageColumnSize,i=(a-1)/2,s=!1,r=!1;n>a&&(e>i+1&&(s=!0),e<n-i&&(r=!0));var o=0,c=0,u=0;if(s&&!r){o=a-2,c=n-o;for(var l=c;l<n;l++)t.push(l)}else if(!s&&r){o=a-2,u=2+o;for(var d=2;d<u;d++)t.push(d)}else if(s&&r){o=(a-2-1)/2;for(var h=e-o;h<=e+o;h++)t.push(h)}else for(var p=2;p<n;p++)t.push(p);return t}},watch:{pagerList:{deep:!0,immediate:!0,handler:function(){var t=this.innerCurrentPage,e=this.pageTotal,n=this.pageColumnSize,a=(n-1)/2,i=!1,s=!1;e>n&&(t>a+1&&(i=!0),t<e-a&&(s=!0)),this.showLeft=i,this.showRight=s}}},methods:{pageClick:function(t){var e=t.target;if(-1!=e.className.indexOf("btn")){var n=Number(t.target.textContent);n>this.pageTotal&&this.pageTotal,n!=this.innerCurrentPage&&this.$emit("change",n)}}}}),ct=ot,ut=Object(c["a"])(ct,st,rt,!1,null,null,null),lt=ut.exports,dt={name:"pagination",props:{total:{type:Number,validator:function(t){return"Number"==M(t)&&t>=0}},pageSize:{type:Number,default:10},currentPage:{type:Number,default:1}},data:function(){return{innerCurrentPage:1,innerPageSize:10,pageColumnSize:7}},computed:{countPage:function(){return Math.max(1,Math.ceil(this.total/this.innerPageSize))}},watch:{pageSize:{immediate:!0,handler:function(t){this.innerPageSize=Number(t)}},currentPage:{immediate:!0,handler:function(t){this.innerCurrentPage=this.getValidCurrentPage(t)}}},methods:{innerPageChange:function(t){this.innerCurrentPage=this.getValidCurrentPage(t),this._emit()},getValidCurrentPage:function(t){var e=M(t);return"Number"!=e||t<1?1:t>this.countPage?this.countPage:t>=1&&t<=this.countPage?t:void 0},_prev:function(){var t=this.innerCurrentPage-1;this.innerCurrentPage=this.getValidCurrentPage(t),this._emit()},_next:function(){var t=this.innerCurrentPage+1;this.innerCurrentPage=this.getValidCurrentPage(t),this._emit()},_emit:function(){var t=this;this.$nextTick((function(){var e={};e.pageSize=t.innerPageSize,e.currentPage=t.innerCurrentPage,t.$emit("current-change",e)}))}},render:function(){var t=arguments[0];return t("div",{attrs:{width:"100%"}},[t("count-total"),t("prev"),t("inner-pager",{attrs:{innerCurrentPage:this.innerCurrentPage,pageColumnSize:this.pageColumnSize,pageTotal:this.countPage},on:{change:this.innerPageChange}}),t("next")])},components:{innerPager:lt,countTotal:{render:function(){var t=arguments[0];return t("span",{class:"pagination_total"},["共有 ",this.$parent.total," 条数据"])}},Prev:{render:function(){var t=arguments[0];return t("button",{class:"pagination_btn_prev",attrs:{disable:this.innerCurrentPage<=1},on:{click:this.$parent._prev}},[t("span",[t("i",{class:"iconfont icon-houtui"})])])}},Next:{render:function(){var t=arguments[0];return t("button",{class:"pagination_btn_next",attrs:{disable:this.$parent.innerCurrentPage>=this.countPage},on:{click:this.$parent._next}},[t("span",[t("i",{class:"iconfont icon-qianjin"})])])}}},created:function(){}},ht={data:function(){return{}},methods:{setList:function(){}},component:{Table:nt,Pagination:dt,TableColumn:it}},pt=ht,ft=(n("98c3"),Object(c["a"])(pt,I,z,!1,null,"73f25686",null)),mt=ft.exports,gt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"List-container"}},[n("transition",{attrs:{name:"dialog"}},[t.dialog_control?n("div",{attrs:{id:"dialog-main"}},[n("span",{staticClass:"iconfont icon-jinggao"}),n("span",{ref:"dialogText",staticClass:"dialog-text"},[t._v("消息块")])]):t._e()]),n("div",{staticClass:"tools-bar"},[n("ul",{staticClass:"tools-main"},[n("li",{staticClass:"tools-container"},[n("div",{staticClass:"search-info"},[n("span",{staticClass:"search-i iconfont icon-sousuo",on:{click:t.toSearch}}),n("transition",{attrs:{name:"search"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"search-input",attrs:{type:"text",name:"serach_name",id:"search",placeholder:"搜索"},domProps:{value:t.searchVal},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.toSearch(e)},input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})])],1)]),n("li",{staticClass:"tools-container"},[n("div",{staticClass:"btn_origin"},[n("button",{staticClass:"btn_add",on:{click:t.add_form}},[t._v("添加")])])]),n("li",{staticClass:"tools-container"},[n("div",{staticClass:"btn_origin"},[n("button",{staticClass:"btn_add",on:{click:t.edit_form}},[t._v("修改")])])]),n("li",{staticClass:"tools-container"},[n("div",{staticClass:"btn_origin"},[n("button",{staticClass:"btn_delete",on:{click:t.axios_delete}},[t._v("删除")])])])])]),n("div",{key:t.updateKey,ref:"list_main",class:{list_main_out:t.form_control},attrs:{id:"list_main"}},[n("div",{staticClass:"form_container",class:{form_container_out:t.form_control}},[n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"!==t.submit_type,expression:"submit_type !== 'edit'"}],staticClass:"tittle"},[n("span",{staticClass:"tit_axis"}),t._v("添加进货")]),n("div",{directives:[{name:"show",rawName:"v-show",value:"edit"==t.submit_type,expression:"submit_type == 'edit'"}],staticClass:"tittle"},[n("span",{staticClass:"tit_axis"}),t._v("修改进货")]),n("form",[n("div",{staticClass:"form_frame"},[n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("进货单号：")]),n("input",{ref:"batchNumber",attrs:{type:"text",name:"batchNumber",autocomplete:"off",placeholder:"必填"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填(数字或英文字母)")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("商品名：")]),n("input",{ref:"goodName",attrs:{type:"text",name:"goodName",autocomplete:"off",placeholder:"必填"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填项")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("进价(元):")]),n("input",{ref:"purchasePrice",attrs:{type:"text",name:"purchasePrice",autocomplete:"off",placeholder:"必填"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填(数字)")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("进货数量：")]),n("input",{ref:"purchaseAmount",attrs:{type:"text",name:"purchaseAmount",autocomplete:"off",placeholder:"必填"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填(数字)")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("分类：")]),n("e-select",{attrs:{optionList:t.categoryList,initOption:t.initOption},on:{handlerChoosed:t.setCategory}}),n("input",{ref:"categoryID",attrs:{type:"hidden",name:"categoryID"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填(若暂无分类,则选无分类)")])],1),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("公司：")]),n("input",{ref:"bussiness",attrs:{type:"text",name:"bussiness",autocomplete:"off"}})]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("产地：")]),n("input",{ref:"origin",attrs:{type:"text",name:"origin",autocomplete:"off"}})]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("保质期(天):")]),n("input",{ref:"shelfLife",attrs:{type:"text",name:"shelfLife",autocomplete:"off"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填(数字)")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("生产日期：")]),n("input",{ref:"productionDate",attrs:{type:"date",name:"productionDate",autocomplete:"off"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填项")])]),n("div",{staticClass:"input_block"},[n("div",{staticClass:"options"},[t._v("进货日期：")]),n("input",{ref:"purchaseTime",attrs:{type:"date",name:"purchaseTime",autocomplete:"off"}}),n("span",{staticClass:"input-warn text-warn warned"},[t._v("必填项")])])]),n("a",{staticClass:"add_submit",on:{click:t.submit_form}},[t._v("提交")])])]),n("list-table",{ref:"_table",staticClass:"table-class",attrs:{isClearCheckbox:t.isClearCheckbox,dataSource:t.dataSource},on:{getCheckboxSeletions:t.getCheckboxSeletions}},[n("table-column",{attrs:{width:"5%",prop:"id",type:"checkbox"}}),n("table-column",{attrs:{label:"进货单号",width:"10%",prop:"batchNumber"}}),n("table-column",{attrs:{label:"商品名",width:"10%",prop:"goodName"}}),n("table-column",{attrs:{label:"数量",width:"10%",prop:"purchaseAmount"}}),n("table-column",{attrs:{label:"进货价",width:"10%",prop:"purchasePrice"}}),n("table-column",{attrs:{label:"进货日期",width:"10%",prop:"purchaseTime"}}),n("table-column",{attrs:{label:"分类",width:"10%",prop:"categoryName"}}),n("table-column",{attrs:{label:"公司",width:"10%",prop:"bussiness"}}),n("table-column",{attrs:{label:"产地",width:"10%",prop:"origin"}}),n("table-column",{attrs:{label:"生产日期",width:"10%",prop:"productionDate"}}),n("table-column",{attrs:{label:"保质期",width:"5%",prop:"shelfLife"}})],1),n("pagination",{staticClass:"pagination_bottom",attrs:{total:t.total,pageSize:t.pageSize,currentPage:t.currentPage},on:{"current-change":t.axios_get}})],1)],1)},vt=[],bt=n("1da1"),_t=(n("96cf"),n("b0c0"),n("841c"),n("b64b"),function(t){var e=/^\d+$/;return e.test(t)}),Ct=function(t){var e=/^[A-Za-z0-9]+$/;return e.test(t)},yt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-container",class:{select_show:t.focus}},[n("span",{staticClass:"select-open-i iconfont icon-zhankai",on:{click:t.handlerChange}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.choosedContent,expression:"choosedContent"}],staticClass:"select-input",style:t.selectInputStyle,attrs:{type:"text",placeholder:"请选择分类"},domProps:{value:t.choosedContent},on:{click:t.handlerChange,input:function(e){e.target.composing||(t.choosedContent=e.target.value)}}}),n("div",{staticClass:"text-container"},[t._v(t._s(t.choosedContent))]),n("ul",{staticClass:"options-block",style:{width:t.width}},t._l(t.optionList,(function(e){return n("li",{key:e.id,staticClass:"option-cell",attrs:{value:e.id},on:{click:t.optionChoosed}},[t._v(" "+t._s(e.name)+" ")])})),0)])},wt=[],xt={props:{width:{type:String,default:"187px"},height:{default:"30px",type:String},optionList:{require:!0,type:Array},initOption:{require:!0,type:Object}},computed:{selectInputStyle:function(){var t=[this.width,this.height],e=t[0],n=t[1];return{width:e,height:n}}},watch:{initOption:{immediate:!0,handler:function(t){"{}"==JSON.stringify(t)&&(this.selectID=0,this.choosedContent=""),"{}"!==JSON.stringify(t)&&(this.innerInitOption=U(t),this.selectID=this.innerInitOption.id,this.choosedContent=this.innerInitOption.name)}},selectID:{immediate:!0,handler:function(t){t&&this.$emit("handlerChoosed",t)}}},methods:{handlerChange:function(){this.focus=!this.focus},optionChoosed:function(t){this.focus=!this.focus,this.choosedContent=t.target.textContent,this.selectID=t.target.value}},data:function(){return{focus:!1,selectID:0,choosedContent:"",innerInitOption:{}}}},kt=xt,Pt=(n("c433"),Object(c["a"])(kt,yt,wt,!1,null,"9fba5b6e",null)),St=Pt.exports,Lt={components:{ListTable:nt,TableColumn:it,Pagination:dt,eSelect:St},data:function(){return{num:0,searchVal:"",oldUpdateKey:0,updateKey:0,form_control:!1,submit_type:"",dataSource:[],total:0,currentPage:1,pageSize:20,seletions:[],isClearCheckbox:!1,dialog_control:!1,categoryList:[],initOption:{}}},computed:{init_getObj:function(){return{currentPage:this.currentPage,pageSize:this.pageSize,search:""}}},watch:{searchVal:{immediate:!1,handler:function(t){t||this.axios_get(this.init_getObj)}},form_control:{immediate:!1,handler:function(t){if(!t){var e=this.$refs,n=["batchNumber","purchasePrice","purchaseAmount","purchaseTime","productionDate","shelfLife"];n.forEach((function(t){e[t].parentNode.classList.remove("isWarned")}))}}}},methods:{category_get:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._axios.post("/category/getCategory").then((function(e){t.categoryList=e.data,t.categoryList.map((function(t){t.name=t.category_name,delete t.category_name}))}));case 2:case"end":return e.stop()}}),e)})))()},setCategory:function(t){t&&this.$nextTick((function(){var e=this.$refs,n=e["categoryID"];n.value=t}))},toSearch:function(){var t=this.searchVal;this.init_getObj.search=t,this.axios_get(this.init_getObj),this.init_getObj.search=""},submit_form:function(){if("edit"==this.submit_type)this.axios_edit();else{if("add"!=this.submit_type)return;this.axios_add()}},add_form:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.categoryList.length<=0)){e.next=3;break}return e.next=3,t.category_get();case 3:n=t.$refs,a=["batchNumber","goodName","purchaseTime","purchasePrice","purchaseAmount","categoryID","bussiness","origin","productionDate","shelfLife"],t.initOption={},"add"!==t.submit_type&&(t.initOption={},a.forEach((function(t){n[t].value=""}))),t.form_control=!t.form_control,t.form_control&&(t.submit_type="add");case 9:case"end":return e.stop()}}),e)})))()},edit_form:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n,a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(t.categoryList.length<=0)){e.next=3;break}return e.next=3,t.category_get();case 3:if(n="edit",a=t.getSeletion(t.seletions,n),a){e.next=12;break}return t.dialog_control=!0,t.form_control=!1,t.$nextTick((function(){t.$refs.dialogText.textContent="仅允许单个数据行进行编辑操作"})),i=t,setTimeout((function(){i.dialog_control=!1}),2e3),e.abrupt("return");case 12:s=t.$refs,r=["batchNumber","goodName","purchaseTime","purchasePrice","purchaseAmount","categoryID","bussiness","origin","productionDate","shelfLife"],o=a.categoryName,r.forEach((function(e){"categoryID"==e?t.categoryList.forEach((function(n){if(n.name==o)return t.initOption=n,void(s[e].value=n.id)})):s[e].value=a[e]})),t.form_control=!t.form_control,t.form_control&&(t.submit_type="edit"),"edit"!==t.submit_type&&(t.initOption={},r.forEach((function(t){s[t].value=""})));case 19:case"end":return e.stop()}}),e)})))()},getCheckboxSeletions:function(t){this.seletions=t},getSeletion:function(t,e){e=e||"";var n={};if("delete"==e)return t;if("edit"==e){if(t.length>1||t.length<=0)return"";var a=t[0];return this.dataSource.forEach((function(t){t.id==a&&(n=U(t))})),n}},inputsChecked:function(){var t=this.$refs,e=1,n={},a=["batchNumber","purchasePrice","purchaseAmount","purchaseTime","productionDate","shelfLife","categoryID","goodName"];a.forEach((function(a){var i="inspeciton_"+e++;switch(a){case"batchNumber":n[i]=Ct(t[a].value);break;case"purchasePrice":case"purchaseAmount":case"shelfLife":n[i]=_t(t[a].value);break;case"purchaseTime":case"productionDate":case"goodName":case"categoryID":n[i]=""!==t[a].value;break}n[i]?-1!=t[a].parentNode.className.indexOf("isWarned")&&t[a].parentNode.classList.remove("isWarned"):t[a].parentNode.classList.add("isWarned")}));var i=!0;return Object.keys(n).forEach((function(t){return i=i&&n[t],i})),!i},axios_delete:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n="delete",a=t.getSeletion(t.seletions,n),a){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t._axios.post("/purchase/deletePurchase",a).then((function(e){"delete success"!==e.data.msg&&console.log("failed"),t.isClearCheckbox=!0}));case 6:t.updateKey+=1;case 7:case"end":return e.stop()}}),e)})))()},axios_edit:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n,a,i,s,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n="edit",a=t.getSeletion(t.seletions,n),i=a.id,s=["batchNumber","goodName","purchaseTime","purchasePrice","purchaseAmount","categoryID","bussiness","origin","productionDate","shelfLife"],r=t.$refs,o=s.reduce((function(t,e){if(r[e]){var n=""==r[e].value?null:r[e].value;t[e]=n}return t}),{}),o.id=i,e.next=9,t._axios.post("/purchase/editPurchase",o).then((function(e){"edit success"!==e.data.msg&&console.log("failed"),t.form_control=!t.form_control,t.isClearCheckbox=!0}));case 9:t.updateKey+=1;case 10:case"end":return e.stop()}}),e)})))()},axios_add:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!t.inputsChecked()){e.next=2;break}return e.abrupt("return");case 2:return n=["batchNumber","goodName","purchaseTime","purchasePrice","purchaseAmount","categoryID","bussiness","origin","productionDate","shelfLife"],a=t.$refs,i=n.reduce((function(t,e){if(a[e]){var n=""==a[e].value?null:a[e].value;t[e]=n}return t}),{}),e.next=7,t._axios.post("/purchase/addPurchase",i).then((function(e){"add success"!==e.data.msg&&console.log("failed"),"add success"==e.data.msg&&n.forEach((function(t){a[t].value=""})),t.form_control=!t.form_control}));case 7:t.updateKey+=1;case 8:case"end":return e.stop()}}),e)})))()},axios_get:function(t){var e=this,n={};t=t||{},n.pageObj=t,this._axios.post("/purchase/getPurchase",n).then((function(t){e.dataSource=t.data.data,e.total=t.data.total}))}},created:function(){},mounted:function(){this.axios_get(this.init_getObj)},beforeUpdate:function(){this.oldUpdateKey!=this.updateKey&&(this.axios_get(this.init_getObj),this.oldUpdateKey=this.updateKey)}},Ot=Lt,Nt=(n("2d82"),Object(c["a"])(Ot,gt,vt,!1,null,"39b59c99",null)),jt=Nt.exports,$t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"Category-container"}},[n("div",{staticClass:"tools-bar"},[n("ul",{staticClass:"tools-main"},[n("li",{staticClass:"tools-container"},[n("div",{staticClass:"add-input-info"},[n("span",{staticClass:"add-i iconfont icon-tianjiashuju",on:{click:t.category_add}}),n("input",{directives:[{name:"model",rawName:"v-model",value:t.category_name,expression:"category_name"}],staticClass:"add-input",attrs:{type:"text",name:"category_add",placeholder:"添加"},domProps:{value:t.category_name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.category_add(e)},input:function(e){e.target.composing||(t.category_name=e.target.value)}}})])]),n("li",{staticClass:"tools-container"},[n("div",{staticClass:"btn_origin"},[n("button",{staticClass:"btn_delete",on:{click:t.category_delete}},[t._v("删除")])])])])]),n("div",{key:t.updateKey,staticClass:"category-main"},[n("ul",{staticClass:"category-list"},t._l(t.listData,(function(e){return n("li",{key:e.id,staticClass:"category-row",on:{click:function(n){return t.choosed(n,e.id)}}},[t._v(" "+t._s(e.category_name)+" ")])})),0)])])},Tt=[],Et={data:function(){return{oldUpdateKey:0,updateKey:0,category_id:0,category_name:"",listData:[]}},methods:{category_get:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,t._axios.post("/category/getCategory").then((function(t){var e=t.data;e.forEach((function(t){1!==t.id&&n.push(t)}))}));case 3:t.listData=n;case 4:case"end":return e.stop()}}),e)})))()},category_add:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},n.name=t.category_name,e.next=4,t._axios.post("/category/addCategory",n).then((function(e){"add success"==e.data.msg&&(t.category_name="")}));case 4:t.updateKey+=1;case 5:case"end":return e.stop()}}),e)})))()},category_delete:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n={},n.id=t.category_id,e.next=4,t._axios.post("/category/deleteCategory",n);case 4:t.updateKey+=1;case 5:case"end":return e.stop()}}),e)})))()},choosed:function(t,e){if(-1!=t.target.className.indexOf("category-choosed"))return t.target.classList.remove("category-choosed"),void(this.category_id=0);var n=t.target.parentNode.children;n.forEach((function(t){t.classList.remove("category-choosed")})),t.target.classList.add("category-choosed"),this.category_id=e}},mounted:function(){this.category_get()},beforeUpdate:function(){this.oldUpdateKey!==this.updateKey&&(this.category_get(),this.oldUpdateKey=this.updateKey)}},Rt=Et,Dt=(n("a188"),Object(c["a"])(Rt,$t,Tt,!1,null,"d5c14a68",null)),Kt=Dt.exports,It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"settings_container"},[n("div",{staticClass:"stock_limit_container"},[t._m(0),n("div",{key:t.warningKey,staticClass:"stock_limit_cell",class:{to_limit:t.limitFocus}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.warningLine,expression:"warningLine"}],staticClass:"stock_limit_input",attrs:{type:"number",name:"stock_limit"},domProps:{value:t.warningLine},on:{focus:function(e){t.limitFocus=!0},blur:function(e){t.limitFocus=!1},input:function(e){e.target.composing||(t.warningLine=e.target.value)}}}),n("span",{staticClass:"setting_toLimit_i iconfont icon-xiangyou",on:{click:t.toEditLimit}})])])])},zt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stock_limit_cell"},[n("span",{staticClass:"stock_limit_tittle"},[t._v("库存警戒线设置")])])}],Wt=(n("466d"),{data:function(){return{oldWarningKey:0,warningKey:0,limitFocus:!1,oldWarningLine:"0",warningLine:"0"}},watch:{warningLine:{immediate:!0,handler:function(t){if(""!=t){var e=/^\d+/;this.$data.warningLine=t.match(e)[0]}}}},methods:{toEditLimit:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(""!=t.warningLine){e.next=3;break}return t.warningLine=t.oldWarningLine,e.abrupt("return");case 3:if(t.oldWarningLine!=t.warningLine){e.next=5;break}return e.abrupt("return");case 5:return n={},n.warningLine=t.warningLine,e.next=9,t._axios.post("/warningLine/editWarningLine",n);case 9:t.warningKey+=1;case 10:case"end":return e.stop()}}),e)})))()},toGetLimit:function(){var t=this;return Object(bt["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t._axios.post("/warningLine/getWarningLine").then((function(e){"get failed"!=e.data.msg&&(t.warningLine=e.data.stock_limit+"")}));case 2:case"end":return e.stop()}}),e)})))()}},beforeMount:function(){this.toGetLimit()},beforeUpdate:function(){this.oldWarningKey!==this.warningKey&&(this.toGetLimit(),this.oldWarningKey=this.warningKey)}}),At=Wt,Vt=(n("05ab"),Object(c["a"])(At,It,zt,!1,null,"915ae0f6",null)),Mt=Vt.exports;a["a"].use(d["a"]);var Ut=[{path:"/",redirect:"/index/setting"},{path:"/index",name:"Index",component:K,children:[{path:"goods",component:mt},{path:"purchase",component:jt},{path:"category",component:Kt},{path:"setting",component:Mt}]}],qt=new d["a"]({mode:"history",base:"/",linkActiveClass:"active",routes:Ut}),Bt=qt,Jt=n("73ef"),Ft=n.n(Jt),Ht=Ft.a.create({baseURL:"http://localhost:3000",timeout:1e4}),Gt=Ht;n("82da");a["a"].config.productionTip=!1,a["a"].prototype._axios=Gt,new a["a"]({router:Bt,render:function(t){return t(l)}}).$mount("#app")},"56f3":function(t,e,n){},"58d8":function(t,e,n){},5925:function(t,e,n){"use strict";n("3fc1")},7389:function(t,e,n){},"73ed":function(t,e,n){},"7c55":function(t,e,n){"use strict";n("2395")},"81f6":function(t){t.exports=JSON.parse('{"admin":[{"name":"系统设置","to":"setting"}],"senior":[{"name":"商品管理","to":"goods"},{"name":"进货管理","to":"purchase"},{"name":"售货管理","to":"path3"},{"name":"用户管理","to":"path4"},{"name":"类别设置","to":"category"},{"name":"日志信息","to":"path5"},{"name":"系统设置","to":"setting"}],"middle":[{"name":"商品管理","to":"path"},{"name":"进货管理","to":"path"},{"name":"售货管理","to":"path"},{"name":"类别设置","to":"category"},{"name":"日志信息","to":"path"}],"primary":[{"name":"商品管理","to":"path"}]}')},"82da":function(t,e,n){},"84e7":function(t,e,n){},"90de":function(t,e,n){},"92da":function(t,e,n){"use strict";n("ce2f")},"98c3":function(t,e,n){"use strict";n("07ae")},a188:function(t,e,n){"use strict";n("a4d2")},a4d2:function(t,e,n){},c433:function(t,e,n){"use strict";n("56f3")},ce2f:function(t,e,n){},d8a2:function(t,e,n){},f849:function(t,e,n){},f950:function(t,e,n){}});
//# sourceMappingURL=app.47a472e4.js.map